/*!
 * @copyright Copyright &copy; Kartik Visweswaran, Krajee.com, 2014
 * @version 1.0.0
 *
 * Client validation extension for the yii2-field-range extension
 * 
 * Author: Kartik Visweswaran
 * Copyright: 2014, Kartik Visweswaran, Krajee.com
 * For more JQuery plugins visit http://plugins.krajee.com
 * For more Yii related demos visit http://demos.krajee.com
 */!function(r){var e=function(e,t){this.$attrTo=r(e),this.$attrFrom=r("#"+t.attrFrom),this.$mainContainer=r("#"+t.container),this.$errorContainer=r("#"+t.errorContainer),this.$errorBlockFrom=this.$attrFrom.closest(".kv-container-from").find(".help-block"),this.$errorBlockTo=this.$attrTo.closest(".kv-container-to").find(".help-block"),this.$errorBlock=this.$errorContainer.find(".help-block"),this.$form=this.$attrFrom.closest("form"),this.errorToMsg="",this.init()};e.prototype={constructor:e,init:function(){var r=this;r.$errorBlockFrom.hide(),r.$errorBlockTo.hide(),r.$form.on("submit.yiiActiveForm",function(){setTimeout(function(){r.setError(1),r.setError(2)},1e3)}),r.$form.on("reset.yiiActiveForm",function(){setTimeout(function(){r.reset()},100)}),r.initEvent("blur.yiiActiveForm"),r.initEvent("change.yiiActiveForm"),r.initEvent("keyup.yiiActiveForm")},reset:function(){var r=this;r.$errorBlock.html(""),r.$errorContainer.removeClass("has-success").removeClass("has-error"),r.$mainContainer.removeClass("has-success").removeClass("has-error"),r.$mainContainer.find(".input-group-btn .btn-default").removeClass("btn-success").removeClass("btn-danger")},initEvent:function(r){var e=this;e.$attrFrom.on(r,function(){setTimeout(function(){e.setError(1)},100)}),e.$attrTo.on(r,function(){setTimeout(function(){e.setError(2)},100)})},setError:function(r){var e=this,t=e.$errorBlockFrom.html(),o=e.$errorBlockTo.html(),s=1==r?t:o;e.$errorBlock.html(""),e.$errorBlockFrom.parent().hasClass("has-error")||e.$errorBlockTo.parent().hasClass("has-error")?(e.$errorContainer.removeClass("has-success").addClass("has-error"),e.$mainContainer.removeClass("has-success").addClass("has-error"),e.$mainContainer.find(".input-group-btn .btn-default").removeClass("btn-success").addClass("btn-danger")):(e.$errorBlockFrom.parent().hasClass("has-success")||e.$errorBlockTo.parent().hasClass("has-success"))&&(e.$errorContainer.removeClass("has-error").addClass("has-success"),e.$mainContainer.removeClass("has-error").addClass("has-success"),e.$mainContainer.find(".input-group-btn .btn-default").removeClass("btn-danger").addClass("btn-success")),s?e.$errorBlock.html(s):1==r&&o?e.$errorBlock.html(o):2==r&&t&&e.$errorBlock.html(t)}},r.fn.kvFieldRange=function(t){var o=Array.apply(null,arguments);return o.shift(),this.each(function(){var s=r(this),n=s.data("kvFieldRange"),a="object"==typeof t&&t;n||s.data("kvFieldRange",n=new e(this,r.extend({},r.fn.kvFieldRange.defaults,a,r(this).data()))),"string"==typeof t&&n[t].apply(n,o)})}}(jQuery);